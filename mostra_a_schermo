import java.io.File;
import java.util.Scanner;
import java.io.FileNotFoundException; 
def issueData = [:]
def a = ""
def b = ""
pipeline{
  agent any
  parameters{
        string(
          name: 'nome',
          defaultValue: '',
          trim: true
       )
        string(
          name: 'cognome',
          defaultValue: '',
          trim: true
      )
  }

  stages{
    stage("Inizialization"){
      steps{
        script{
          issueData = [
            nome : params.nome,
            cognome : params.cognome
          ]
        }
      }
    }
    stage("Data Preparation"){
      steps{
        script{
          a = issueData.nome.toLowerCase()
          b = issueData.cognome.toLowerCase()
        }
      }
    }
    stage("Execution"){
        steps{
          script{
            def upn = ""+a+"."+b+"@miao.it"
            def newFile = new File("C:/Users/antonio.agostino/OneDrive - Accenture/Documents/test/test.txt")
            newFile.createNewFile() 
            newFile.append(""+upn)
        }
      }
    }
  }


}
