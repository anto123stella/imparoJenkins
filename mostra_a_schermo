import java.io.File 
def issueData = [:]

pipeline{
  agent any
  parameters{
        string(
          name: 'nome',
          defaultValue: '',
          trim: true
       )
        string(
          name: 'cognome',
          defaultValue: '',
          trim: true
      )
  }

  stages{
    stage("Inizialization"){
      steps{
        script{
          issueData = [
            nome : params.nome,
            cognome : params.cognome
          ]
        }
      }
    }
    stage("Data Preparation"){
      steps{
        script{
          issueData.nome.toLowerCase()
          issueData.cognome.toLowerCase()
        }
      }
    }
    stage("Execution"){
        steps{
          script{
            def upn = ""+issueData.nome+"."+issueData.cognome+"@miao.it"
            def newFile = new File("C:/Users/antonio.agostino/OneDrive - Accenture/Documents/test/test.txt")
            newFile.createNewFile() 
            newFile.append=""+upn
        }
      }
    }
  }



}
